<div class="p-4">
    <div class="relative">
        <input 
            type="text" 
            placeholder="Search members"
            class="w-full bg-discord-dark text-sm px-3 py-2 rounded border-none outline-none focus:ring-2 focus:ring-discord-blurple"
        >
        <svg class="w-4 h-4 absolute right-3 top-2.5 text-discord-muted" fill="currentColor" viewBox="0 0 24 24">
            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
        </svg>
    </div>
</div>

<div class="flex-1 overflow-y-auto px-2">
    <!-- Online Members -->
    <div class="mb-4">
        <div class="px-2 py-1 text-xs font-semibold text-discord-muted uppercase tracking-wide flex items-center">
            Online — {{getOnlineNumber(members())}}
        </div>
        <div class="space-y-1">
                <ng-container *ngFor="let member of members()">
                <div *ngIf="member.serverUserDto.isOnline" class="flex items-center px-2 py-1 rounded hover:bg-discord-light/50 cursor-pointer group">
                    <!-- Avatar + Status -->
                    <div class="relative mr-3 flex-shrink-0">
                        <img 
                            [src]="member.serverUserDto.avatarUrl" 
                            alt="User Avatar" 
                            class="w-9 h-9 rounded-full object-cover border border-discord-dark shadow-sm"
                        />
                        <div 
                            class="absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 border-2 border-discord-sidebar rounded-full" 
                            [ngClass]="'status-' + memberStatus(member.serverUserDto.isOnline)">
                        </div>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="text-sm font-medium text-white truncate">{{member.serverUserDto.username}}</div>
                        <div class="text-xs text-discord-muted truncate">{{member.role}}</div>
                    </div>
                </div>
                </ng-container>
            
        </div>
    </div>

    <!-- Offline Members -->
    <div>
        <div class="px-2 py-1 text-xs font-semibold text-discord-muted uppercase tracking-wide flex items-center">
            Offline — {{getOfflineNumber(members())}}
        </div>
        <div class="space-y-1">
                <ng-container *ngFor="let member of members()">
                <div *ngIf="!member.serverUserDto.isOnline" class="flex items-center px-2 py-1 rounded hover:bg-discord-light/50 cursor-pointer group">
                    <!-- Avatar + Status -->
                    <div class="relative mr-3 flex-shrink-0">
                        <img 
                            [src]="member.serverUserDto.avatarUrl" 
                            alt="User Avatar" 
                            class="w-9 h-9 rounded-full object-cover border border-discord-dark shadow-sm"
                        />
                        <div 
                            class="absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 border-2 border-discord-sidebar rounded-full" 
                            [ngClass]="'status-' + memberStatus(member.serverUserDto.isOnline)">
                        </div>
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="text-sm font-medium text-white truncate">{{member.serverUserDto.username}}</div>
                        <div class="text-xs text-discord-muted truncate">{{member.role}}</div>
                    </div>
                </div>
                </ng-container>
        </div>
    </div>
</div>